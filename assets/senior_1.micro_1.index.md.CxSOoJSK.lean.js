import{_ as i,c as a,a6 as n,o as l}from"./chunks/framework.Cb3YA3gp.js";const o=JSON.parse('{"title":"Vue 中使用微前端","description":"","frontmatter":{"lang":"zh-CN","sidebarDepth":0,"meta":[{"name":"description","content":"个人总结的vuepress学习技术文档-语法"},{"name":"keywords","content":"vuepress,最新技术文档,vuepress语法,markdown语法"}]},"headers":[],"relativePath":"senior/1.micro/1.index.md","filePath":"senior/1.micro/1.index.md","lastUpdated":1718897544000}'),e={name:"senior/1.micro/1.index.md"};function p(t,s,h,r,k,d){return l(),a("div",null,s[0]||(s[0]=[n(`<h1 id="vue-中使用微前端" tabindex="-1">Vue 中使用微前端 <a class="header-anchor" href="#vue-中使用微前端" aria-label="Permalink to &quot;Vue 中使用微前端&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">前言</p><p>微前端就是将不同的功能按照不同的维度拆分成多个子应用。通过主应用来加载这些子应用。</p></div><ul><li><p>微前端的好处</p><ul><li><strong>应用自治</strong>：独立开发、独立测试、独立部署 微应用仓库独立，前后端可独立开发，部署完成后主框架自动完成同步更新，只需要遵循统一的接口规范或者框架，以便于系统集成到一起，相互之间是不存在依赖关系的</li><li><strong>单一职责</strong>：每个前端应用可以只关注于自己所需要完成的功能</li><li><strong>技术栈无关</strong>：主框架不限制接入应用的技术栈，微应用具备完全自主权，你可以使用 Angular 的同时，又可以使用 React 和 Vue。可以尝试新的技术</li><li><strong>独立运行时</strong>：每个微应用之间状态隔离，运行时状态不共享，无需重新构建即可添加、移除或替换单个前端部分</li><li>简单、松耦合的代码库</li></ul></li><li><p>微前端的缺点</p><ul><li>用户体验变差</li><li>应用的拆分基础依赖于基础设施的构建，一旦大量应用依赖于同一基础设施，那么维护变成了一个挑战。</li><li>拆分的粒度越小，便意味着架构变得复杂、维护成本变高。管理多个版本，复用公共组件等</li><li>技术栈一旦多样化，便意味着技术栈混乱。</li><li>目前现有微前端方案并不完美</li></ul></li></ul><h2 id="微前端方案对比" tabindex="-1">微前端方案对比 <a class="header-anchor" href="#微前端方案对比" aria-label="Permalink to &quot;微前端方案对比&quot;">​</a></h2><ul><li>iframe <ul><li>加载太慢</li><li>用户体验太差</li><li>完美 js/css 沙箱，无需子应用配合</li></ul></li><li>single-spa <ul><li>没有沙箱</li><li>上手成本很高</li><li>文档和插件完善</li></ul></li><li>模块联邦 <ul><li>需要 webpack5</li><li>没有沙箱</li><li>使用场景有限</li></ul></li></ul><h2 id="_1-singlespa" tabindex="-1">1.singlespa <a class="header-anchor" href="#_1-singlespa" aria-label="Permalink to &quot;1.singlespa&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">前言</p><p><strong>Single-spa 是一个将多个单页面应用聚合为一个整体应用的 JavaScript 微前端框架，<a href="https://zh-hans.single-spa.js.org/" target="_blank" rel="noreferrer">参考文档</a></strong></p></div><ul><li>1.<code>singlespa</code>在项目中的使用</li><li>2.<code>singlespa</code>源码解析</li></ul><h2 id="_2-qiankun" tabindex="-1">2.qiankun <a class="header-anchor" href="#_2-qiankun" aria-label="Permalink to &quot;2.qiankun&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">前言</p><p><strong>qiankun 是一个基于 single-spa 的微前端实现库，旨在帮助大家能更简单、无痛的构建一个生产可用微前端架构系统，<a href="https://qiankun.umijs.org/zh/guide" target="_blank" rel="noreferrer">参考文档</a></strong></p></div><ul><li>1.<code>qiankun</code>在项目中的使用</li><li>2.<code>qiankun</code>源码解析</li></ul><p>微前端的优缺点</p><ul><li><p>qiankun</p><ul><li>基于 single-spa</li><li>有 js/css 沙箱，但沙箱存在缺陷</li><li>经过大量项目实践，可参考的案例较多</li></ul></li><li><p>MicroApp</p><ul><li>使用简单，子应用改动更少</li><li>没有经过大量的项目实践</li><li>qiankun 有的功能他基本上都有</li></ul></li></ul><div class="warning custom-block"><p class="custom-block-title">qiankun + vue 遇到的问题</p><ul><li>沙箱导致 vue 性能问题</li><li>vue-router4 有一些不兼容</li><li>vite 只能曲线救国</li><li>css 沙箱不完美</li></ul></div><h2 id="_3-代码共享" tabindex="-1">3.代码共享 <a class="header-anchor" href="#_3-代码共享" aria-label="Permalink to &quot;3.代码共享&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">前言</p><p>多个项目中处理公共子模块（微前端各个子项目中相同的组件、方法、配置、一些图片、字体静态资源等），一般有三种方案:npm、cdn、git submodule</p></div><h2 id="_4-nginx-部署" tabindex="-1">4.nginx 部署 <a class="header-anchor" href="#_4-nginx-部署" aria-label="Permalink to &quot;4.nginx 部署&quot;">​</a></h2><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  listen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  server_name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  localhost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  location</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  index.html</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.htm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    try_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $uri $uri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /index.html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  location</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /app1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  index.html</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.htm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    try_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $uri $uri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /app1/index.html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  location</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /app2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  index.html</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.htm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    try_files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $uri $uri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /app2/index.html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_5-微前端的现状" tabindex="-1">5.微前端的现状 <a class="header-anchor" href="#_5-微前端的现状" aria-label="Permalink to &quot;5.微前端的现状&quot;">​</a></h2><ul><li><p>微前端的方案越来越多，但是微前端缺少一个公共标准</p></li><li><p>很多公司已经开始尝试微前端，但是体验并不好</p></li><li><p>微前端的展望：</p><ul><li>原生 js 沙箱正在路上：shadowrealm</li><li>microApp 解决了,qiankun 子应用侵入性强的问题</li><li>qiankun3 已经在路上</li></ul></li></ul>`,20)]))}const u=i(e,[["render",p]]);export{o as __pageData,u as default};
